/* Version: V_02 */
/* Header bidding from Impression Media 
 * Generate by script: updateCodeGoogleDevelopment     
 * Last update: 29.10.2021 13:10:35
 * Ticket ID: ... / [1209]
 * Generated for WebSite: [https://learniv.com]
 * User ID: [1]    
 * Custom ticket name: [Testing DEV statistiky]
 * Project date: 23.8.2019 by Weuron s.r.o. 
*/

//document.addEventListener('DOMContentLoaded', (event) => {
//    var imHbDomContentLoaded = 'ImHbIsReady';
//    console.log('DOM event fully loaded and parsed');
//}); 

//document.onreadystatechange = () => {
//  console.log('DOM readyState: '+document.readyState);
//  if (document.readyState === 'complete') {
//    console.log('DOM event readyState complete');
//  }
//};    



    
function newIndividualCss(css, id){
    console.log('Fire newIndividualCss: '+id);
    var styleNode, selection;
    var contentStyleTop = css;
    if ((styleNode = top.document.createElement("style")).id = "imHb-"+id, styleNode.type = "text/css", window.attachEvent && !window.opera){ 
        styleNode.styleSheet.cssText = contentStyleTop;
        console.log('imHB branding :: chrom OK: '+contentStyleTop);
    }else{
        var styleText = document.createTextNode(contentStyleTop);
        styleNode.appendChild(styleText)
    }
    top.document.getElementsByTagName("head")[0].appendChild(styleNode);
}

function newBehaviourBranding(unitCustomID){
    console.log('Fire fc newBehaviourBranding()');

//    responsiveConditionReady = document.querySelector(".box-imHbBrandingRam") !== null;                
//    if (responsiveConditionReady) {
//        console.log('1b body > .box-imHbBrandingRam fire remove');    
//        document.querySelector("body > .box-imHbBrandingRam").remove();
//    }

    var imHbBrandigDiv = document.createElement('div');
    imHbBrandigDiv.className = 'box-imHbBrandingRam';
    imHbBrandigDiv.innerHTML = '<div class="imHbBrandingRam fcNewBehaviourBranding" style="position: absolute; width: 100%; height: auto; z-index: 0; min-height: 0px;"><div id="'+unitCustomID+'" class="imHbUnitCustomID" style="width: 2000px; min-height: 0px; height: auto;overflow: visible;top: 0px;position: fixed; z-index: 0;left: 50%;margin-left: -1000px;display: block;pointer-events: auto !important;"></div></div>';
    document.body.insertBefore(imHbBrandigDiv, document.body.childNodes[0]);

}
setTimeout(function(){
    responsiveConditionReady = document.querySelector(".box-imHbBrandingRam") !== null;                
    if (responsiveConditionReady) {
        var allImHbBrandingRams = document.querySelectorAll(".box-imHbBrandingRam");
        for (var i = 0, element; element = allImHbBrandingRams[i]; i++) {
            //work with element
            responsiveConditionReady = element.querySelector("iframe") !== null;
            if (responsiveConditionReady) {}else{console.log('timeout box-imHbBrandingRam fire remove'); element.remove();}
        }
    }
}, 4000); 


//verze branding = slepÃ¡ kolej 
//top.document.body.classList.remove("imHbBranding");
responsiveConditionReady = document.querySelector(".box-imHbBrandingRam #brandingPlus") !== null;                
if (responsiveConditionReady) {
    console.log('fire rename brandingPlus');
    var imHbSmazAzOnload = document.querySelector(".box-imHbBrandingRam #brandingPlus");
    imHbSmazAzOnload.setAttribute("id","old-brandingPlus");
}

        
function imHbpatickovyleaderboardmobil(){
    console.log('ID: patickovy-leaderboard-mobil >> OK: ' + responsiveConditionReady); 
    responsiveConditionReady = document.querySelector("#patickovy-leaderboard-mobil").innerHTML;            
    if(responsiveConditionReady == ''){
        console.log('Content in ID: patickovy-leaderboard-mobil is empty');
    }else{
        console.log('Fire remove content in ID: patickovy-leaderboard-mobil >> HTML: '+ responsiveConditionReady); 
        document.querySelector("#patickovy-leaderboard-mobil").innerHTML = '';            
    }
    setTimeout(function(){                  
        var ifrimHbpatickovyleaderboardmobil = document.querySelector("#patickovy-leaderboard-mobil > div > iframe") !== null;;
        if (ifrimHbpatickovyleaderboardmobil) { 
            ifrimHbpatickovyleaderboardmobil = document.querySelector("#patickovy-leaderboard-mobil > div > iframe");
            console.log('1x600 Fire ifrimHbpatickovyleaderboardmobil');
            var divIdimHbpatickovyleaderboardmobil = document.querySelector("#patickovy-leaderboard-mobil");
            console.log('ifrimHbpatickovyleaderboardmobil.height: '+ifrimHbpatickovyleaderboardmobil.height);
            divIdimHbpatickovyleaderboardmobil.style.minHeight = ifrimHbpatickovyleaderboardmobil.height+'px';
        }else{
            setTimeout(function(){
                ifrimHbpatickovyleaderboardmobil = document.querySelector("#patickovy-leaderboard-mobil > div > iframe") !== null;;
                if (ifrimHbpatickovyleaderboardmobil) { 
                    ifrimHbpatickovyleaderboardmobil = document.querySelector("#patickovy-leaderboard-mobil > div > iframe");
                    console.log('2x600 Fire ifrimHbpatickovyleaderboardmobil');
                    var divIdimHbpatickovyleaderboardmobil = document.querySelector("#patickovy-leaderboard-mobil");
                    console.log('ifrimHbpatickovyleaderboardmobil.height: '+ifrimHbpatickovyleaderboardmobil.height);
                    divIdimHbpatickovyleaderboardmobil.style.minHeight = ifrimHbpatickovyleaderboardmobil.height+'px';
                }else{
                    setTimeout(function(){
                        ifrimHbpatickovyleaderboardmobil = document.querySelector("#patickovy-leaderboard-mobil > div > iframe") !== null;;
                        if (ifrimHbpatickovyleaderboardmobil) { 
                            ifrimHbpatickovyleaderboardmobil = document.querySelector("#patickovy-leaderboard-mobil > div > iframe");
                            console.log('3x600 Fire ifrimHbpatickovyleaderboardmobil');
                            var divIdimHbpatickovyleaderboardmobil = document.querySelector("#patickovy-leaderboard-mobil");
                            console.log('ifrimHbpatickovyleaderboardmobil.height: '+ifrimHbpatickovyleaderboardmobil.height);
                            divIdimHbpatickovyleaderboardmobil.style.minHeight = ifrimHbpatickovyleaderboardmobil.height+'px';
                        }
                    }, 600);            
                }
            }, 600);            
        }
    }, 600);
                    
}
var imHbpatickovyleaderboardmobilCount = 0;
function imHbpatickovyleaderboardmobilFire(){
//    console.log('Fire fc imHbpatickovyleaderboardmobilFire()');
    responsiveConditionReady = document.querySelector("#patickovy-leaderboard-mobil") !== null;
    if (responsiveConditionReady) {
        imHbpatickovyleaderboardmobil();
    }else{
//        console.log('ID: patickovy-leaderboard-mobil >> NOT found: ' + responsiveConditionReady);
//        console.log('imHbpatickovyleaderboardmobilCount: '+ imHbpatickovyleaderboardmobilCount);  
        imHbpatickovyleaderboardmobilCount = imHbpatickovyleaderboardmobilCount + 1;
        if(imHbpatickovyleaderboardmobilCount < 20){
            setTimeout(function(){ imHbpatickovyleaderboardmobilFire(); }, 100);            
        }
    }
} 
imHbpatickovyleaderboardmobilFire(); 

        
function imHblearniv300x600(){
    console.log('ID: learniv-300x600 >> OK: ' + responsiveConditionReady); 
    responsiveConditionReady = document.querySelector("#learniv-300x600").innerHTML;            
    if(responsiveConditionReady == ''){
        console.log('Content in ID: learniv-300x600 is empty');
    }else{
        console.log('Fire remove content in ID: learniv-300x600 >> HTML: '+ responsiveConditionReady); 
        document.querySelector("#learniv-300x600").innerHTML = '';            
    }
    setTimeout(function(){                  
        var ifrimHblearniv300x600 = document.querySelector("#learniv-300x600 > div > iframe") !== null;;
        if (ifrimHblearniv300x600) { 
            ifrimHblearniv300x600 = document.querySelector("#learniv-300x600 > div > iframe");
            console.log('1x600 Fire ifrimHblearniv300x600');
            var divIdimHblearniv300x600 = document.querySelector("#learniv-300x600");
            console.log('ifrimHblearniv300x600.height: '+ifrimHblearniv300x600.height);
            divIdimHblearniv300x600.style.minHeight = ifrimHblearniv300x600.height+'px';
        }else{
            setTimeout(function(){
                ifrimHblearniv300x600 = document.querySelector("#learniv-300x600 > div > iframe") !== null;;
                if (ifrimHblearniv300x600) { 
                    ifrimHblearniv300x600 = document.querySelector("#learniv-300x600 > div > iframe");
                    console.log('2x600 Fire ifrimHblearniv300x600');
                    var divIdimHblearniv300x600 = document.querySelector("#learniv-300x600");
                    console.log('ifrimHblearniv300x600.height: '+ifrimHblearniv300x600.height);
                    divIdimHblearniv300x600.style.minHeight = ifrimHblearniv300x600.height+'px';
                }else{
                    setTimeout(function(){
                        ifrimHblearniv300x600 = document.querySelector("#learniv-300x600 > div > iframe") !== null;;
                        if (ifrimHblearniv300x600) { 
                            ifrimHblearniv300x600 = document.querySelector("#learniv-300x600 > div > iframe");
                            console.log('3x600 Fire ifrimHblearniv300x600');
                            var divIdimHblearniv300x600 = document.querySelector("#learniv-300x600");
                            console.log('ifrimHblearniv300x600.height: '+ifrimHblearniv300x600.height);
                            divIdimHblearniv300x600.style.minHeight = ifrimHblearniv300x600.height+'px';
                        }
                    }, 600);            
                }
            }, 600);            
        }
    }, 600);
                    
}
var imHblearniv300x600Count = 0;
function imHblearniv300x600Fire(){
//    console.log('Fire fc imHblearniv300x600Fire()');
    responsiveConditionReady = document.querySelector("#learniv-300x600") !== null;
    if (responsiveConditionReady) {
        imHblearniv300x600();
    }else{
//        console.log('ID: learniv-300x600 >> NOT found: ' + responsiveConditionReady);
//        console.log('imHblearniv300x600Count: '+ imHblearniv300x600Count);  
        imHblearniv300x600Count = imHblearniv300x600Count + 1;
        if(imHblearniv300x600Count < 20){
            setTimeout(function(){ imHblearniv300x600Fire(); }, 100);            
        }
    }
} 
imHblearniv300x600Fire(); 

        
function imHbpatickovyleaderboarddesktop(){
    console.log('ID: patickovy-leaderboard-desktop >> OK: ' + responsiveConditionReady); 
    responsiveConditionReady = document.querySelector("#patickovy-leaderboard-desktop").innerHTML;            
    if(responsiveConditionReady == ''){
        console.log('Content in ID: patickovy-leaderboard-desktop is empty');
    }else{
        console.log('Fire remove content in ID: patickovy-leaderboard-desktop >> HTML: '+ responsiveConditionReady); 
        document.querySelector("#patickovy-leaderboard-desktop").innerHTML = '';            
    }
    setTimeout(function(){                  
        var ifrimHbpatickovyleaderboarddesktop = document.querySelector("#patickovy-leaderboard-desktop > div > iframe") !== null;;
        if (ifrimHbpatickovyleaderboarddesktop) { 
            ifrimHbpatickovyleaderboarddesktop = document.querySelector("#patickovy-leaderboard-desktop > div > iframe");
            console.log('1x600 Fire ifrimHbpatickovyleaderboarddesktop');
            var divIdimHbpatickovyleaderboarddesktop = document.querySelector("#patickovy-leaderboard-desktop");
            console.log('ifrimHbpatickovyleaderboarddesktop.height: '+ifrimHbpatickovyleaderboarddesktop.height);
            divIdimHbpatickovyleaderboarddesktop.style.minHeight = ifrimHbpatickovyleaderboarddesktop.height+'px';
        }else{
            setTimeout(function(){
                ifrimHbpatickovyleaderboarddesktop = document.querySelector("#patickovy-leaderboard-desktop > div > iframe") !== null;;
                if (ifrimHbpatickovyleaderboarddesktop) { 
                    ifrimHbpatickovyleaderboarddesktop = document.querySelector("#patickovy-leaderboard-desktop > div > iframe");
                    console.log('2x600 Fire ifrimHbpatickovyleaderboarddesktop');
                    var divIdimHbpatickovyleaderboarddesktop = document.querySelector("#patickovy-leaderboard-desktop");
                    console.log('ifrimHbpatickovyleaderboarddesktop.height: '+ifrimHbpatickovyleaderboarddesktop.height);
                    divIdimHbpatickovyleaderboarddesktop.style.minHeight = ifrimHbpatickovyleaderboarddesktop.height+'px';
                }else{
                    setTimeout(function(){
                        ifrimHbpatickovyleaderboarddesktop = document.querySelector("#patickovy-leaderboard-desktop > div > iframe") !== null;;
                        if (ifrimHbpatickovyleaderboarddesktop) { 
                            ifrimHbpatickovyleaderboarddesktop = document.querySelector("#patickovy-leaderboard-desktop > div > iframe");
                            console.log('3x600 Fire ifrimHbpatickovyleaderboarddesktop');
                            var divIdimHbpatickovyleaderboarddesktop = document.querySelector("#patickovy-leaderboard-desktop");
                            console.log('ifrimHbpatickovyleaderboarddesktop.height: '+ifrimHbpatickovyleaderboarddesktop.height);
                            divIdimHbpatickovyleaderboarddesktop.style.minHeight = ifrimHbpatickovyleaderboarddesktop.height+'px';
                        }
                    }, 600);            
                }
            }, 600);            
        }
    }, 600);
                    
}
var imHbpatickovyleaderboarddesktopCount = 0;
function imHbpatickovyleaderboarddesktopFire(){
//    console.log('Fire fc imHbpatickovyleaderboarddesktopFire()');
    responsiveConditionReady = document.querySelector("#patickovy-leaderboard-desktop") !== null;
    if (responsiveConditionReady) {
        imHbpatickovyleaderboarddesktop();
    }else{
//        console.log('ID: patickovy-leaderboard-desktop >> NOT found: ' + responsiveConditionReady);
//        console.log('imHbpatickovyleaderboarddesktopCount: '+ imHbpatickovyleaderboarddesktopCount);  
        imHbpatickovyleaderboarddesktopCount = imHbpatickovyleaderboarddesktopCount + 1;
        if(imHbpatickovyleaderboarddesktopCount < 20){
            setTimeout(function(){ imHbpatickovyleaderboarddesktopFire(); }, 100);            
        }
    }
} 
imHbpatickovyleaderboarddesktopFire(); 

        
function imHbnewrectangledesktop(){
    console.log('ID: new-rectangle-desktop >> OK: ' + responsiveConditionReady); 
    responsiveConditionReady = document.querySelector("#new-rectangle-desktop").innerHTML;            
    if(responsiveConditionReady == ''){
        console.log('Content in ID: new-rectangle-desktop is empty');
    }else{
        console.log('Fire remove content in ID: new-rectangle-desktop >> HTML: '+ responsiveConditionReady); 
        document.querySelector("#new-rectangle-desktop").innerHTML = '';            
    }
    setTimeout(function(){                  
        var ifrimHbnewrectangledesktop = document.querySelector("#new-rectangle-desktop > div > iframe") !== null;;
        if (ifrimHbnewrectangledesktop) { 
            ifrimHbnewrectangledesktop = document.querySelector("#new-rectangle-desktop > div > iframe");
            console.log('1x600 Fire ifrimHbnewrectangledesktop');
            var divIdimHbnewrectangledesktop = document.querySelector("#new-rectangle-desktop");
            console.log('ifrimHbnewrectangledesktop.height: '+ifrimHbnewrectangledesktop.height);
            divIdimHbnewrectangledesktop.style.minHeight = ifrimHbnewrectangledesktop.height+'px';
        }else{
            setTimeout(function(){
                ifrimHbnewrectangledesktop = document.querySelector("#new-rectangle-desktop > div > iframe") !== null;;
                if (ifrimHbnewrectangledesktop) { 
                    ifrimHbnewrectangledesktop = document.querySelector("#new-rectangle-desktop > div > iframe");
                    console.log('2x600 Fire ifrimHbnewrectangledesktop');
                    var divIdimHbnewrectangledesktop = document.querySelector("#new-rectangle-desktop");
                    console.log('ifrimHbnewrectangledesktop.height: '+ifrimHbnewrectangledesktop.height);
                    divIdimHbnewrectangledesktop.style.minHeight = ifrimHbnewrectangledesktop.height+'px';
                }else{
                    setTimeout(function(){
                        ifrimHbnewrectangledesktop = document.querySelector("#new-rectangle-desktop > div > iframe") !== null;;
                        if (ifrimHbnewrectangledesktop) { 
                            ifrimHbnewrectangledesktop = document.querySelector("#new-rectangle-desktop > div > iframe");
                            console.log('3x600 Fire ifrimHbnewrectangledesktop');
                            var divIdimHbnewrectangledesktop = document.querySelector("#new-rectangle-desktop");
                            console.log('ifrimHbnewrectangledesktop.height: '+ifrimHbnewrectangledesktop.height);
                            divIdimHbnewrectangledesktop.style.minHeight = ifrimHbnewrectangledesktop.height+'px';
                        }
                    }, 600);            
                }
            }, 600);            
        }
    }, 600);
                    
}
var imHbnewrectangledesktopCount = 0;
function imHbnewrectangledesktopFire(){
//    console.log('Fire fc imHbnewrectangledesktopFire()');
    responsiveConditionReady = document.querySelector("#new-rectangle-desktop") !== null;
    if (responsiveConditionReady) {
        imHbnewrectangledesktop();
    }else{
//        console.log('ID: new-rectangle-desktop >> NOT found: ' + responsiveConditionReady);
//        console.log('imHbnewrectangledesktopCount: '+ imHbnewrectangledesktopCount);  
        imHbnewrectangledesktopCount = imHbnewrectangledesktopCount + 1;
        if(imHbnewrectangledesktopCount < 20){
            setTimeout(function(){ imHbnewrectangledesktopFire(); }, 100);            
        }
    }
} 
imHbnewrectangledesktopFire(); 

        
function imHbsquare(){
    console.log('ID: square >> OK: ' + responsiveConditionReady); 
    responsiveConditionReady = document.querySelector("#square").innerHTML;            
    if(responsiveConditionReady == ''){
        console.log('Content in ID: square is empty');
    }else{
        console.log('Fire remove content in ID: square >> HTML: '+ responsiveConditionReady); 
        document.querySelector("#square").innerHTML = '';            
    }
    setTimeout(function(){                  
        var ifrimHbsquare = document.querySelector("#square > div > iframe") !== null;;
        if (ifrimHbsquare) { 
            ifrimHbsquare = document.querySelector("#square > div > iframe");
            console.log('1x600 Fire ifrimHbsquare');
            var divIdimHbsquare = document.querySelector("#square");
            console.log('ifrimHbsquare.height: '+ifrimHbsquare.height);
            divIdimHbsquare.style.minHeight = ifrimHbsquare.height+'px';
        }else{
            setTimeout(function(){
                ifrimHbsquare = document.querySelector("#square > div > iframe") !== null;;
                if (ifrimHbsquare) { 
                    ifrimHbsquare = document.querySelector("#square > div > iframe");
                    console.log('2x600 Fire ifrimHbsquare');
                    var divIdimHbsquare = document.querySelector("#square");
                    console.log('ifrimHbsquare.height: '+ifrimHbsquare.height);
                    divIdimHbsquare.style.minHeight = ifrimHbsquare.height+'px';
                }else{
                    setTimeout(function(){
                        ifrimHbsquare = document.querySelector("#square > div > iframe") !== null;;
                        if (ifrimHbsquare) { 
                            ifrimHbsquare = document.querySelector("#square > div > iframe");
                            console.log('3x600 Fire ifrimHbsquare');
                            var divIdimHbsquare = document.querySelector("#square");
                            console.log('ifrimHbsquare.height: '+ifrimHbsquare.height);
                            divIdimHbsquare.style.minHeight = ifrimHbsquare.height+'px';
                        }
                    }, 600);            
                }
            }, 600);            
        }
    }, 600);
                    
}
var imHbsquareCount = 0;
function imHbsquareFire(){
//    console.log('Fire fc imHbsquareFire()');
    responsiveConditionReady = document.querySelector("#square") !== null;
    if (responsiveConditionReady) {
        imHbsquare();
    }else{
//        console.log('ID: square >> NOT found: ' + responsiveConditionReady);
//        console.log('imHbsquareCount: '+ imHbsquareCount);  
        imHbsquareCount = imHbsquareCount + 1;
        if(imHbsquareCount < 20){
            setTimeout(function(){ imHbsquareFire(); }, 100);            
        }
    }
} 
imHbsquareFire(); 

        
function imHbnobranding(){
    console.log('ID: nobranding >> OK: ' + responsiveConditionReady); 
    responsiveConditionReady = document.querySelector("#nobranding").innerHTML;            
    if(responsiveConditionReady == ''){
        console.log('Content in ID: nobranding is empty');
    }else{
        console.log('Fire remove content in ID: nobranding >> HTML: '+ responsiveConditionReady); 
        document.querySelector("#nobranding").innerHTML = '';            
    }
    setTimeout(function(){                  
        var ifrimHbnobranding = document.querySelector("#nobranding > div > iframe") !== null;;
        if (ifrimHbnobranding) { 
            ifrimHbnobranding = document.querySelector("#nobranding > div > iframe");
            console.log('1x600 Fire ifrimHbnobranding');
            var divIdimHbnobranding = document.querySelector("#nobranding");
            console.log('ifrimHbnobranding.height: '+ifrimHbnobranding.height);
            divIdimHbnobranding.style.minHeight = ifrimHbnobranding.height+'px';
        }else{
            setTimeout(function(){
                ifrimHbnobranding = document.querySelector("#nobranding > div > iframe") !== null;;
                if (ifrimHbnobranding) { 
                    ifrimHbnobranding = document.querySelector("#nobranding > div > iframe");
                    console.log('2x600 Fire ifrimHbnobranding');
                    var divIdimHbnobranding = document.querySelector("#nobranding");
                    console.log('ifrimHbnobranding.height: '+ifrimHbnobranding.height);
                    divIdimHbnobranding.style.minHeight = ifrimHbnobranding.height+'px';
                }else{
                    setTimeout(function(){
                        ifrimHbnobranding = document.querySelector("#nobranding > div > iframe") !== null;;
                        if (ifrimHbnobranding) { 
                            ifrimHbnobranding = document.querySelector("#nobranding > div > iframe");
                            console.log('3x600 Fire ifrimHbnobranding');
                            var divIdimHbnobranding = document.querySelector("#nobranding");
                            console.log('ifrimHbnobranding.height: '+ifrimHbnobranding.height);
                            divIdimHbnobranding.style.minHeight = ifrimHbnobranding.height+'px';
                        }
                    }, 600);            
                }
            }, 600);            
        }
    }, 600);
                    
}
var imHbnobrandingCount = 0;
function imHbnobrandingFire(){
//    console.log('Fire fc imHbnobrandingFire()');
    responsiveConditionReady = document.querySelector("#nobranding") !== null;
    if (responsiveConditionReady) {
        imHbnobranding();
    }else{
//        console.log('ID: nobranding >> NOT found: ' + responsiveConditionReady);
//        console.log('imHbnobrandingCount: '+ imHbnobrandingCount);  
        imHbnobrandingCount = imHbnobrandingCount + 1;
        if(imHbnobrandingCount < 20){
            setTimeout(function(){ imHbnobrandingFire(); }, 100);            
        }
    }
} 
imHbnobrandingFire(); 

        
function imHbnewsquaremobil1(){
    console.log('ID: new-square-mobil-1 >> OK: ' + responsiveConditionReady); 
    responsiveConditionReady = document.querySelector("#new-square-mobil-1").innerHTML;            
    if(responsiveConditionReady == ''){
        console.log('Content in ID: new-square-mobil-1 is empty');
    }else{
        console.log('Fire remove content in ID: new-square-mobil-1 >> HTML: '+ responsiveConditionReady); 
        document.querySelector("#new-square-mobil-1").innerHTML = '';            
    }
    setTimeout(function(){                  
        var ifrimHbnewsquaremobil1 = document.querySelector("#new-square-mobil-1 > div > iframe") !== null;;
        if (ifrimHbnewsquaremobil1) { 
            ifrimHbnewsquaremobil1 = document.querySelector("#new-square-mobil-1 > div > iframe");
            console.log('1x600 Fire ifrimHbnewsquaremobil1');
            var divIdimHbnewsquaremobil1 = document.querySelector("#new-square-mobil-1");
            console.log('ifrimHbnewsquaremobil1.height: '+ifrimHbnewsquaremobil1.height);
            divIdimHbnewsquaremobil1.style.minHeight = ifrimHbnewsquaremobil1.height+'px';
        }else{
            setTimeout(function(){
                ifrimHbnewsquaremobil1 = document.querySelector("#new-square-mobil-1 > div > iframe") !== null;;
                if (ifrimHbnewsquaremobil1) { 
                    ifrimHbnewsquaremobil1 = document.querySelector("#new-square-mobil-1 > div > iframe");
                    console.log('2x600 Fire ifrimHbnewsquaremobil1');
                    var divIdimHbnewsquaremobil1 = document.querySelector("#new-square-mobil-1");
                    console.log('ifrimHbnewsquaremobil1.height: '+ifrimHbnewsquaremobil1.height);
                    divIdimHbnewsquaremobil1.style.minHeight = ifrimHbnewsquaremobil1.height+'px';
                }else{
                    setTimeout(function(){
                        ifrimHbnewsquaremobil1 = document.querySelector("#new-square-mobil-1 > div > iframe") !== null;;
                        if (ifrimHbnewsquaremobil1) { 
                            ifrimHbnewsquaremobil1 = document.querySelector("#new-square-mobil-1 > div > iframe");
                            console.log('3x600 Fire ifrimHbnewsquaremobil1');
                            var divIdimHbnewsquaremobil1 = document.querySelector("#new-square-mobil-1");
                            console.log('ifrimHbnewsquaremobil1.height: '+ifrimHbnewsquaremobil1.height);
                            divIdimHbnewsquaremobil1.style.minHeight = ifrimHbnewsquaremobil1.height+'px';
                        }
                    }, 600);            
                }
            }, 600);            
        }
    }, 600);
                    
}
var imHbnewsquaremobil1Count = 0;
function imHbnewsquaremobil1Fire(){
//    console.log('Fire fc imHbnewsquaremobil1Fire()');
    responsiveConditionReady = document.querySelector("#new-square-mobil-1") !== null;
    if (responsiveConditionReady) {
        imHbnewsquaremobil1();
    }else{
//        console.log('ID: new-square-mobil-1 >> NOT found: ' + responsiveConditionReady);
//        console.log('imHbnewsquaremobil1Count: '+ imHbnewsquaremobil1Count);  
        imHbnewsquaremobil1Count = imHbnewsquaremobil1Count + 1;
        if(imHbnewsquaremobil1Count < 20){
            setTimeout(function(){ imHbnewsquaremobil1Fire(); }, 100);            
        }
    }
} 
imHbnewsquaremobil1Fire(); 

        
function imHbnew_square_pc2(){
    console.log('ID: new_square_pc-2 >> OK: ' + responsiveConditionReady); 
    responsiveConditionReady = document.querySelector("#new_square_pc-2").innerHTML;            
    if(responsiveConditionReady == ''){
        console.log('Content in ID: new_square_pc-2 is empty');
    }else{
        console.log('Fire remove content in ID: new_square_pc-2 >> HTML: '+ responsiveConditionReady); 
        document.querySelector("#new_square_pc-2").innerHTML = '';            
    }
    setTimeout(function(){                  
        var ifrimHbnew_square_pc2 = document.querySelector("#new_square_pc-2 > div > iframe") !== null;;
        if (ifrimHbnew_square_pc2) { 
            ifrimHbnew_square_pc2 = document.querySelector("#new_square_pc-2 > div > iframe");
            console.log('1x600 Fire ifrimHbnew_square_pc2');
            var divIdimHbnew_square_pc2 = document.querySelector("#new_square_pc-2");
            console.log('ifrimHbnew_square_pc2.height: '+ifrimHbnew_square_pc2.height);
            divIdimHbnew_square_pc2.style.minHeight = ifrimHbnew_square_pc2.height+'px';
        }else{
            setTimeout(function(){
                ifrimHbnew_square_pc2 = document.querySelector("#new_square_pc-2 > div > iframe") !== null;;
                if (ifrimHbnew_square_pc2) { 
                    ifrimHbnew_square_pc2 = document.querySelector("#new_square_pc-2 > div > iframe");
                    console.log('2x600 Fire ifrimHbnew_square_pc2');
                    var divIdimHbnew_square_pc2 = document.querySelector("#new_square_pc-2");
                    console.log('ifrimHbnew_square_pc2.height: '+ifrimHbnew_square_pc2.height);
                    divIdimHbnew_square_pc2.style.minHeight = ifrimHbnew_square_pc2.height+'px';
                }else{
                    setTimeout(function(){
                        ifrimHbnew_square_pc2 = document.querySelector("#new_square_pc-2 > div > iframe") !== null;;
                        if (ifrimHbnew_square_pc2) { 
                            ifrimHbnew_square_pc2 = document.querySelector("#new_square_pc-2 > div > iframe");
                            console.log('3x600 Fire ifrimHbnew_square_pc2');
                            var divIdimHbnew_square_pc2 = document.querySelector("#new_square_pc-2");
                            console.log('ifrimHbnew_square_pc2.height: '+ifrimHbnew_square_pc2.height);
                            divIdimHbnew_square_pc2.style.minHeight = ifrimHbnew_square_pc2.height+'px';
                        }
                    }, 600);            
                }
            }, 600);            
        }
    }, 600);
                    
}
var imHbnew_square_pc2Count = 0;
function imHbnew_square_pc2Fire(){
//    console.log('Fire fc imHbnew_square_pc2Fire()');
    responsiveConditionReady = document.querySelector("#new_square_pc-2") !== null;
    if (responsiveConditionReady) {
        imHbnew_square_pc2();
    }else{
//        console.log('ID: new_square_pc-2 >> NOT found: ' + responsiveConditionReady);
//        console.log('imHbnew_square_pc2Count: '+ imHbnew_square_pc2Count);  
        imHbnew_square_pc2Count = imHbnew_square_pc2Count + 1;
        if(imHbnew_square_pc2Count < 20){
            setTimeout(function(){ imHbnew_square_pc2Fire(); }, 100);            
        }
    }
} 
imHbnew_square_pc2Fire(); 

    



(function(window, document, pbjs, googletag) {
'use strict';

if (typeof(hbManager) !== 'undefined') return;

var PREBID_TIMEOUT = 2000; // ms
var FAILSAFE_TIMEOUT = 2000; // ms
var REFRESH_ONRESIZE = false;
var DFP_PAGEURL = "";
var DFP_SRA = false;
var YBCI = false;
var YBCI_DOMAIN = "";
var YBCI_ID = "";
var APS = false;
var APS_PUBID = "";
var placementFloor = {};

var imHbWindowWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
var hbPlacement;


//var adUnits = [
var adUnits = [];

// 1. --------------------------------
// Web Variableexclude#@##@#
// without setting for Web Variable
console.log('no Web Variable');
// 2. --------------------------------
// URL condition:include#@#regex#@#.*            
var patt = new RegExp('.*');
var urlCondition = patt.test(location.pathname);
if(urlCondition){

// 3. --------------------------------
// unitResponzivita:desktop
  if((imHbWindowWidth >= 1060)){
    console.log('Responzivita = TRUE >> Placement new-rectangle-desktop / imHbWindowWidth: (' + imHbWindowWidth + ')');
    var check910524 = document.querySelector("#new-rectangle-desktop") !== null;
    console.log('ID: new-rectangle-desktop / check910524: ' + check910524);

// 4. --------------------------------
// unitAutoDivIdControl:1    
hbPlacement = document.querySelector("#new-rectangle-desktop") !== null;
console.log('ID: new-rectangle-desktop / hbPlacement: ' + hbPlacement);
    if (hbPlacement) {


placementFloor['newrectangledesktop'] = '0.00';
adUnits.push(
                                       // if unitStavRP = 1
    {
    "hbm_zone": {
        "userid": 1,
        "websiteid": 1209,
        "zoneid": 910524,                                                              //id
        "lazy_loading": 0,                                           //unitLazyLoading
        "lazy_loading_offset": 100,                                     //unitLazyPixelu
        "refresh": 0,                                 //unitAutoRefreshNumber if(unitAutoRefresh==0)>>0
        "refresh_limit": 3,                                    //unitAutoRefreshLimit            
        "nontracked": 0,                                             //unitSizeMapping
        "outofpage": 0,                                            //unitMinimalScreen
        "slot_code": "/96856532/Learniv-480x300",                 //unitSlotGAD
        "slot_sizes": [                                           //unitBannerSize
                [
                    480,                                          //unitBannerSize
                    300                                           //unitBannerSize
                ],
                [
                    336,                                          //unitBannerSize
                    280                                           //unitBannerSize
                ],
                [
                    300,                                          //unitBannerSize
                    300                                           //unitBannerSize
                ],
                [
                    300,                                          //unitBannerSize
                    250                                           //unitBannerSize
                ],
                [
                    1,                                          //unitBannerSize
                    1                                           //unitBannerSize
                ],
            ]
        },
        "code": "new-rectangle-desktop",

        "mediaTypes": {
            "banner": {
                "sizes": [ //unitBannerSize
                        [
                            480,                                          //unitBannerSize
                            300                                           //unitBannerSize
                        ],
                        [
                            336,                                          //unitBannerSize
                            280                                           //unitBannerSize
                        ],
                        [
                            300,                                          //unitBannerSize
                            300                                           //unitBannerSize
                        ],
                        [
                            300,                                          //unitBannerSize
                            250                                           //unitBannerSize
                        ],
                        [
                            1,                                          //unitBannerSize
                            1                                           //unitBannerSize
                        ]
                ]
            }
        },
        "labelAny": ["desktop"],
        "bids": [
                                                              //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "criteo-im",
                "labelAny": ["desktop"],        
                    "params": {
                               networkId: 7456,                        //int (criteo-im >> networkId) // paramsAllBidders [@@@][::]
                               publisherSubId: "learniv/Rectangle_751969",                        //varchar (criteo-im >> publisherSubId) // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-tt",
                "labelAny": ["desktop"],        
                    "params": {
                               mid: 751969,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-nt",
                "labelAny": ["desktop"],        
                    "params": {
                               mid: 751972,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "appnexus",
                "labelAny": ["desktop"],        
                    "params": {
                               placementId: 18288236,                        //int (appnexus >> placementId) // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "PubMatic",
                "labelAny": ["desktop"],        
                    "params": {
                               publisherId: "158732",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]
                               adSlot: "4052845",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]
                               currency: "USD",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-tt",
                "labelAny": ["desktop"],        
                    "params": {
                               mid: 1188480,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            }
        ]
    },
); //end push    

}else{
    console.log('Responzivita = FALSE >> Placement new-rectangle-desktop / imHbWindowWidth: (' + imHbWindowWidth + ')');
    var check910524 = document.querySelector("#new-rectangle-desktop") !== null;
    console.log('ID: new-rectangle-desktop / check910524: ' + check910524);

  }

}else{
    console.log('DIV ID check >> new-rectangle-desktop / hbPlacement: ' + hbPlacement);
}    

}else{
    console.log('URL condition >>  include / typ regex / string: .*');
}

// 1. --------------------------------
// Web Variableexclude#@##@#
// without setting for Web Variable
console.log('no Web Variable');
// 2. --------------------------------
// URL condition:include#@#regex#@#.*            
var patt = new RegExp('.*');
var urlCondition = patt.test(location.pathname);
if(urlCondition){

// 3. --------------------------------
// unitResponzivita:mobil
  if((imHbWindowWidth <= 1060)){
    console.log('Responzivita = TRUE >> Placement new-square-mobil-1 / imHbWindowWidth: (' + imHbWindowWidth + ')');
    var check910530 = document.querySelector("#new-square-mobil-1") !== null;
    console.log('ID: new-square-mobil-1 / check910530: ' + check910530);

// 4. --------------------------------
// unitAutoDivIdControl:1    
hbPlacement = document.querySelector("#new-square-mobil-1") !== null;
console.log('ID: new-square-mobil-1 / hbPlacement: ' + hbPlacement);
    if (hbPlacement) {


placementFloor['newsquaremobil1'] = '0.00';
adUnits.push(
                                       // if unitStavRP = 1
    {
    "hbm_zone": {
        "userid": 1,
        "websiteid": 1209,
        "zoneid": 910530,                                                              //id
        "lazy_loading": 0,                                           //unitLazyLoading
        "lazy_loading_offset": 100,                                     //unitLazyPixelu
        "refresh": 0,                                 //unitAutoRefreshNumber if(unitAutoRefresh==0)>>0
        "refresh_limit": 3,                                    //unitAutoRefreshLimit            
        "nontracked": 0,                                             //unitSizeMapping
        "outofpage": 0,                                            //unitMinimalScreen
        "slot_code": "/96856532/TT-Learniv.com-CW-Square-300-250-Mobile",                 //unitSlotGAD
        "slot_sizes": [                                           //unitBannerSize
                [
                    250,                                          //unitBannerSize
                    250                                           //unitBannerSize
                ],
                [
                    1,                                          //unitBannerSize
                    1                                           //unitBannerSize
                ],
                [
                    200,                                          //unitBannerSize
                    200                                           //unitBannerSize
                ],
            ]
        },
        "code": "new-square-mobil-1",

        "mediaTypes": {
            "banner": {
                "sizes": [ //unitBannerSize
                        [
                            250,                                          //unitBannerSize
                            250                                           //unitBannerSize
                        ],
                        [
                            1,                                          //unitBannerSize
                            1                                           //unitBannerSize
                        ],
                        [
                            200,                                          //unitBannerSize
                            200                                           //unitBannerSize
                        ]
                ]
            }
        },
        "labelAny": ["mobil"],
        "bids": [
                                                              //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "criteo-im",
                "labelAny": ["mobil"],        
                    "params": {
                               zoneId: 7456,                        //int (criteo-im >> zoneId) // paramsAllBidders [@@@][::]
                               publisherSubId: "learniv/Square_300x250_mobile_1133798",                        //varchar (criteo-im >> publisherSubId) // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-tt",
                "labelAny": ["mobil"],        
                    "params": {
                               mid: 1133799,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-nt",
                "labelAny": ["mobil"],        
                    "params": {
                               mid: 1133798,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "appnexus",
                "labelAny": ["mobil"],        
                    "params": {
                               placementId: 22666264,                        //int (appnexus >> placementId) // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "PubMatic",
                "labelAny": ["mobil"],        
                    "params": {
                               publisherId: "158732",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]
                               adSlot: "4052850",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]
                               currency: "USD",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-tt",
                "labelAny": ["mobil"],        
                    "params": {
                               mid: 1188483,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            }
        ]
    },
); //end push    

}else{
    console.log('Responzivita = FALSE >> Placement new-square-mobil-1 / imHbWindowWidth: (' + imHbWindowWidth + ')');
    var check910530 = document.querySelector("#new-square-mobil-1") !== null;
    console.log('ID: new-square-mobil-1 / check910530: ' + check910530);

  }

}else{
    console.log('DIV ID check >> new-square-mobil-1 / hbPlacement: ' + hbPlacement);
}    

}else{
    console.log('URL condition >>  include / typ regex / string: .*');
}

// 1. --------------------------------
// Web Variableexclude#@##@#
// without setting for Web Variable
console.log('no Web Variable');
// 2. --------------------------------
// URL condition:include#@#regex#@#.*            
var patt = new RegExp('.*');
var urlCondition = patt.test(location.pathname);
if(urlCondition){

// 3. --------------------------------
// unitResponzivita:desktop
  if((imHbWindowWidth >= 1060)){
    console.log('Responzivita = TRUE >> Placement new_square_pc-2 / imHbWindowWidth: (' + imHbWindowWidth + ')');
    var check910531 = document.querySelector("#new_square_pc-2") !== null;
    console.log('ID: new_square_pc-2 / check910531: ' + check910531);

// 4. --------------------------------
// unitAutoDivIdControl:1    
hbPlacement = document.querySelector("#new_square_pc-2") !== null;
console.log('ID: new_square_pc-2 / hbPlacement: ' + hbPlacement);
    if (hbPlacement) {


placementFloor['newsquarepc2'] = '0.00';
adUnits.push(
                                       // if unitStavRP = 1
    {
    "hbm_zone": {
        "userid": 1,
        "websiteid": 1209,
        "zoneid": 910531,                                                              //id
        "lazy_loading": 0,                                           //unitLazyLoading
        "lazy_loading_offset": 100,                                     //unitLazyPixelu
        "refresh": 0,                                 //unitAutoRefreshNumber if(unitAutoRefresh==0)>>0
        "refresh_limit": 3,                                    //unitAutoRefreshLimit            
        "nontracked": 0,                                             //unitSizeMapping
        "outofpage": 0,                                            //unitMinimalScreen
        "slot_code": "/96856532/TT-Learniv.com-CW-Square-2-300-250-Mobile",                 //unitSlotGAD
        "slot_sizes": [                                           //unitBannerSize
                [
                    250,                                          //unitBannerSize
                    250                                           //unitBannerSize
                ],
                [
                    200,                                          //unitBannerSize
                    200                                           //unitBannerSize
                ],
                [
                    1,                                          //unitBannerSize
                    1                                           //unitBannerSize
                ],
            ]
        },
        "code": "new_square_pc-2",

        "mediaTypes": {
            "banner": {
                "sizes": [ //unitBannerSize
                        [
                            250,                                          //unitBannerSize
                            250                                           //unitBannerSize
                        ],
                        [
                            200,                                          //unitBannerSize
                            200                                           //unitBannerSize
                        ],
                        [
                            1,                                          //unitBannerSize
                            1                                           //unitBannerSize
                        ]
                ]
            }
        },
        "labelAny": ["desktop"],
        "bids": [
                                                              //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "criteo-im",
                "labelAny": ["desktop"],        
                    "params": {
                               zoneId: 7456,                        //int (criteo-im >> zoneId) // paramsAllBidders [@@@][::]
                               publisherSubId: "learniv/Square_300x250_mobile2_1133800",                        //varchar (criteo-im >> publisherSubId) // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-tt",
                "labelAny": ["desktop"],        
                    "params": {
                               mid: 1133801,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-nt",
                "labelAny": ["desktop"],        
                    "params": {
                               mid: 1133800,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "appnexus",
                "labelAny": ["desktop"],        
                    "params": {
                               placementId: 22666265,                        //int (appnexus >> placementId) // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "PubMatic",
                "labelAny": ["desktop"],        
                    "params": {
                               publisherId: "158732",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]
                               adSlot: "4052851",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]
                               currency: "USD",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-tt",
                "labelAny": ["desktop"],        
                    "params": {
                               mid: 1188484,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            }
        ]
    },
); //end push    

}else{
    console.log('Responzivita = FALSE >> Placement new_square_pc-2 / imHbWindowWidth: (' + imHbWindowWidth + ')');
    var check910531 = document.querySelector("#new_square_pc-2") !== null;
    console.log('ID: new_square_pc-2 / check910531: ' + check910531);

  }

}else{
    console.log('DIV ID check >> new_square_pc-2 / hbPlacement: ' + hbPlacement);
}    

}else{
    console.log('URL condition >>  include / typ regex / string: .*');
}

// 1. --------------------------------
// Web Variableexclude#@##@#
// without setting for Web Variable
console.log('no Web Variable');
// 2. --------------------------------
// URL condition:include#@#regex#@#.*            
var patt = new RegExp('.*');
var urlCondition = patt.test(location.pathname);
if(urlCondition){

// 3. --------------------------------
// unitResponzivita:all
  if(((imHbWindowWidth >= 1) && (imHbWindowWidth <= 9999))){
    console.log('Responzivita = TRUE >> Placement square / imHbWindowWidth: (' + imHbWindowWidth + ')');
    var check910527 = document.querySelector("#square") !== null;
    console.log('ID: square / check910527: ' + check910527);

// 4. --------------------------------
// unitAutoDivIdControl:1    
hbPlacement = document.querySelector("#square") !== null;
console.log('ID: square / hbPlacement: ' + hbPlacement);
    if (hbPlacement) {


placementFloor['square'] = '0.00';
adUnits.push(
                                       // if unitStavRP = 1
    {
    "hbm_zone": {
        "userid": 1,
        "websiteid": 1209,
        "zoneid": 910527,                                                              //id
        "lazy_loading": 0,                                           //unitLazyLoading
        "lazy_loading_offset": 100,                                     //unitLazyPixelu
        "refresh": 0,                                 //unitAutoRefreshNumber if(unitAutoRefresh==0)>>0
        "refresh_limit": 3,                                    //unitAutoRefreshLimit            
        "nontracked": 0,                                             //unitSizeMapping
        "outofpage": 0,                                            //unitMinimalScreen
        "slot_code": "/96856532/TT-Learniv.com-CW-Square-300-250",                 //unitSlotGAD
        "slot_sizes": [                                           //unitBannerSize
                [
                    200,                                          //unitBannerSize
                    200                                           //unitBannerSize
                ],
                [
                    300,                                          //unitBannerSize
                    250                                           //unitBannerSize
                ],
                [
                    250,                                          //unitBannerSize
                    250                                           //unitBannerSize
                ],
                [
                    1,                                          //unitBannerSize
                    1                                           //unitBannerSize
                ],
            ]
        },
        "code": "square",

        "mediaTypes": {
            "banner": {
                "sizes": [ //unitBannerSize
                        [
                            200,                                          //unitBannerSize
                            200                                           //unitBannerSize
                        ],
                        [
                            300,                                          //unitBannerSize
                            250                                           //unitBannerSize
                        ],
                        [
                            250,                                          //unitBannerSize
                            250                                           //unitBannerSize
                        ],
                        [
                            1,                                          //unitBannerSize
                            1                                           //unitBannerSize
                        ]
                ]
            }
        },
        "labelAny": ["all"],
        "bids": [
                                                              //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "criteo-im",
                "labelAny": ["all"],        
                    "params": {
                               networkId: 7456,                        //int (criteo-im >> networkId) // paramsAllBidders [@@@][::]
                               publisherSubId: "learniv/Square_300x250_1133796",                        //varchar (criteo-im >> publisherSubId) // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-tt",
                "labelAny": ["all"],        
                    "params": {
                               mid: 1133797,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-nt",
                "labelAny": ["all"],        
                    "params": {
                               mid: 1133796,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "appnexus",
                "labelAny": ["all"],        
                    "params": {
                               placementId: 22666263,                        //int (appnexus >> placementId) // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "PubMatic",
                "labelAny": ["all"],        
                    "params": {
                               publisherId: "158732",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]
                               adSlot: "4052849",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]
                               currency: "USD",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-tt",
                "labelAny": ["all"],        
                    "params": {
                               mid: 1188479,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            }
        ]
    },
); //end push    

}else{
    console.log('Responzivita = FALSE >> Placement square / imHbWindowWidth: (' + imHbWindowWidth + ')');
    var check910527 = document.querySelector("#square") !== null;
    console.log('ID: square / check910527: ' + check910527);

  }

}else{
    console.log('DIV ID check >> square / hbPlacement: ' + hbPlacement);
}    

}else{
    console.log('URL condition >>  include / typ regex / string: .*');
}

// 1. --------------------------------
// Web Variableexclude#@##@#
// without setting for Web Variable
console.log('no Web Variable');
// 2. --------------------------------
// URL condition:include#@#regex#@#.*            
var patt = new RegExp('.*');
var urlCondition = patt.test(location.pathname);
if(urlCondition){

// 3. --------------------------------
// unitResponzivita:desktop
  if((imHbWindowWidth >= 1060)){
    console.log('Responzivita = TRUE >> Placement learniv-300x600 / imHbWindowWidth: (' + imHbWindowWidth + ')');
    var check910522 = document.querySelector("#learniv-300x600") !== null;
    console.log('ID: learniv-300x600 / check910522: ' + check910522);

// 4. --------------------------------
// unitAutoDivIdControl:1    
hbPlacement = document.querySelector("#learniv-300x600") !== null;
console.log('ID: learniv-300x600 / hbPlacement: ' + hbPlacement);
    if (hbPlacement) {


placementFloor['learniv300x600'] = '0.00';
adUnits.push(
                                       // if unitStavRP = 1
    {
    "hbm_zone": {
        "userid": 1,
        "websiteid": 1209,
        "zoneid": 910522,                                                              //id
        "lazy_loading": 0,                                           //unitLazyLoading
        "lazy_loading_offset": 100,                                     //unitLazyPixelu
        "refresh": 0,                                 //unitAutoRefreshNumber if(unitAutoRefresh==0)>>0
        "refresh_limit": 3,                                    //unitAutoRefreshLimit            
        "nontracked": 0,                                             //unitSizeMapping
        "outofpage": 0,                                            //unitMinimalScreen
        "slot_code": "/96856532/learniv-300x600",                 //unitSlotGAD
        "slot_sizes": [                                           //unitBannerSize
                [
                    300,                                          //unitBannerSize
                    600                                           //unitBannerSize
                ],
                [
                    300,                                          //unitBannerSize
                    300                                           //unitBannerSize
                ],
                [
                    300,                                          //unitBannerSize
                    250                                           //unitBannerSize
                ],
                [
                    1,                                          //unitBannerSize
                    1                                           //unitBannerSize
                ],
            ]
        },
        "code": "learniv-300x600",

        "mediaTypes": {
            "banner": {
                "sizes": [ //unitBannerSize
                        [
                            300,                                          //unitBannerSize
                            600                                           //unitBannerSize
                        ],
                        [
                            300,                                          //unitBannerSize
                            300                                           //unitBannerSize
                        ],
                        [
                            300,                                          //unitBannerSize
                            250                                           //unitBannerSize
                        ],
                        [
                            1,                                          //unitBannerSize
                            1                                           //unitBannerSize
                        ]
                ]
            }
        },
        "labelAny": ["desktop"],
        "bids": [
                                                              //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "criteo-im",
                "labelAny": ["desktop"],        
                    "params": {
                               networkId: 7456,                        //int (criteo-im >> networkId) // paramsAllBidders [@@@][::]
                               publisherSubId: "learniv/Square_300x600_751965",                        //varchar (criteo-im >> publisherSubId) // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-tt",
                "labelAny": ["desktop"],        
                    "params": {
                               mid: 751965,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-nt",
                "labelAny": ["desktop"],        
                    "params": {
                               mid: 751967,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "appnexus",
                "labelAny": ["desktop"],        
                    "params": {
                               placementId: 18288229,                        //int (appnexus >> placementId) // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "PubMatic",
                "labelAny": ["desktop"],        
                    "params": {
                               publisherId: "158732",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]
                               adSlot: "4052844",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]
                               currency: "USD",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-tt",
                "labelAny": ["desktop"],        
                    "params": {
                               mid: 1188482,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            }
        ]
    },
); //end push    

}else{
    console.log('Responzivita = FALSE >> Placement learniv-300x600 / imHbWindowWidth: (' + imHbWindowWidth + ')');
    var check910522 = document.querySelector("#learniv-300x600") !== null;
    console.log('ID: learniv-300x600 / check910522: ' + check910522);

  }

}else{
    console.log('DIV ID check >> learniv-300x600 / hbPlacement: ' + hbPlacement);
}    

}else{
    console.log('URL condition >>  include / typ regex / string: .*');
}

// 1. --------------------------------
// Web Variableexclude#@##@#
// without setting for Web Variable
console.log('no Web Variable');
// 2. --------------------------------
// URL condition:include#@#regex#@#.*            
var patt = new RegExp('.*');
var urlCondition = patt.test(location.pathname);
if(urlCondition){

// 3. --------------------------------
// unitResponzivita:desktop
  if((imHbWindowWidth >= 1060)){
    console.log('Responzivita = TRUE >> Placement nobranding / imHbWindowWidth: (' + imHbWindowWidth + ')');
    var check910528 = document.querySelector("#nobranding") !== null;
    console.log('ID: nobranding / check910528: ' + check910528);

// 4. --------------------------------
// unitAutoDivIdControl:1    
hbPlacement = document.querySelector("#nobranding") !== null;
console.log('ID: nobranding / hbPlacement: ' + hbPlacement);
    if (hbPlacement) {


placementFloor['nobranding'] = '0.00';
adUnits.push(
                                       // if unitStavRP = 1
    {
    "hbm_zone": {
        "userid": 1,
        "websiteid": 1209,
        "zoneid": 910528,                                                              //id
        "lazy_loading": 0,                                           //unitLazyLoading
        "lazy_loading_offset": 100,                                     //unitLazyPixelu
        "refresh": 0,                                 //unitAutoRefreshNumber if(unitAutoRefresh==0)>>0
        "refresh_limit": 3,                                    //unitAutoRefreshLimit            
        "nontracked": 0,                                             //unitSizeMapping
        "outofpage": 0,                                            //unitMinimalScreen
        "slot_code": "/96856532/TT-Learniv.com-CW-Leaderboard-970-250",                 //unitSlotGAD
        "slot_sizes": [                                           //unitBannerSize
                [
                    970,                                          //unitBannerSize
                    250                                           //unitBannerSize
                ],
                [
                    970,                                          //unitBannerSize
                    210                                           //unitBannerSize
                ],
                [
                    970,                                          //unitBannerSize
                    90                                           //unitBannerSize
                ],
                [
                    728,                                          //unitBannerSize
                    90                                           //unitBannerSize
                ],
                [
                    900,                                          //unitBannerSize
                    200                                           //unitBannerSize
                ],
                [
                    1,                                          //unitBannerSize
                    1                                           //unitBannerSize
                ],
                [
                    970,                                          //unitBannerSize
                    100                                           //unitBannerSize
                ],
            ]
        },
        "code": "nobranding",

        "mediaTypes": {
            "banner": {
                "sizes": [ //unitBannerSize
                        [
                            970,                                          //unitBannerSize
                            250                                           //unitBannerSize
                        ],
                        [
                            970,                                          //unitBannerSize
                            210                                           //unitBannerSize
                        ],
                        [
                            970,                                          //unitBannerSize
                            90                                           //unitBannerSize
                        ],
                        [
                            728,                                          //unitBannerSize
                            90                                           //unitBannerSize
                        ],
                        [
                            900,                                          //unitBannerSize
                            200                                           //unitBannerSize
                        ],
                        [
                            1,                                          //unitBannerSize
                            1                                           //unitBannerSize
                        ],
                        [
                            970,                                          //unitBannerSize
                            100                                           //unitBannerSize
                        ]
                ]
            }
        },
        "labelAny": ["desktop"],
        "bids": [
                                                              //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "criteo-im",
                "labelAny": ["desktop"],        
                    "params": {
                               networkId: 7456,                        //int (criteo-im >> networkId) // paramsAllBidders [@@@][::]
                               publisherSubId: "learniv/Leaderboard_1133793",                        //varchar (criteo-im >> publisherSubId) // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-tt",
                "labelAny": ["desktop"],        
                    "params": {
                               mid: 1133794,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-nt",
                "labelAny": ["desktop"],        
                    "params": {
                               mid: 1133793,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "appnexus",
                "labelAny": ["desktop"],        
                    "params": {
                               placementId: 22666261,                        //int (appnexus >> placementId) // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "PubMatic",
                "labelAny": ["desktop"],        
                    "params": {
                               publisherId: "158732",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]
                               adSlot: "4052848",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]
                               currency: "USD",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-tt",
                "labelAny": ["desktop"],        
                    "params": {
                               mid: 1188486,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            }
        ]
    },
); //end push    

}else{
    console.log('Responzivita = FALSE >> Placement nobranding / imHbWindowWidth: (' + imHbWindowWidth + ')');
    var check910528 = document.querySelector("#nobranding") !== null;
    console.log('ID: nobranding / check910528: ' + check910528);

  }

}else{
    console.log('DIV ID check >> nobranding / hbPlacement: ' + hbPlacement);
}    

}else{
    console.log('URL condition >>  include / typ regex / string: .*');
}

// 1. --------------------------------
// Web Variableexclude#@##@#
// without setting for Web Variable
console.log('no Web Variable');
// 2. --------------------------------
// URL condition:include#@#regex#@#.*            
var patt = new RegExp('.*');
var urlCondition = patt.test(location.pathname);
if(urlCondition){

// 3. --------------------------------
// unitResponzivita:mobil
  if((imHbWindowWidth <= 1060)){
    console.log('Responzivita = TRUE >> Placement patickovy-leaderboard-mobil / imHbWindowWidth: (' + imHbWindowWidth + ')');
    var check910521 = document.querySelector("#patickovy-leaderboard-mobil") !== null;
    console.log('ID: patickovy-leaderboard-mobil / check910521: ' + check910521);

// 4. --------------------------------
// unitAutoDivIdControl:1    
hbPlacement = document.querySelector("#patickovy-leaderboard-mobil") !== null;
console.log('ID: patickovy-leaderboard-mobil / hbPlacement: ' + hbPlacement);
    if (hbPlacement) {


placementFloor['patickovyleaderboardmobil'] = '0.00';
adUnits.push(
                                       // if unitStavRP = 1
    {
    "hbm_zone": {
        "userid": 1,
        "websiteid": 1209,
        "zoneid": 910521,                                                              //id
        "lazy_loading": 0,                                           //unitLazyLoading
        "lazy_loading_offset": 100,                                     //unitLazyPixelu
        "refresh": 0,                                 //unitAutoRefreshNumber if(unitAutoRefresh==0)>>0
        "refresh_limit": 3,                                    //unitAutoRefreshLimit            
        "nontracked": 0,                                             //unitSizeMapping
        "outofpage": 0,                                            //unitMinimalScreen
        "slot_code": "/96856532/Patickovy-leaderboard-300x600-mobil",                 //unitSlotGAD
        "slot_sizes": [                                           //unitBannerSize
                [
                    300,                                          //unitBannerSize
                    600                                           //unitBannerSize
                ],
                [
                    300,                                          //unitBannerSize
                    300                                           //unitBannerSize
                ],
                [
                    300,                                          //unitBannerSize
                    250                                           //unitBannerSize
                ],
                [
                    160,                                          //unitBannerSize
                    600                                           //unitBannerSize
                ],
                [
                    120,                                          //unitBannerSize
                    600                                           //unitBannerSize
                ],
                [
                    1,                                          //unitBannerSize
                    1                                           //unitBannerSize
                ],
            ]
        },
        "code": "patickovy-leaderboard-mobil",

        "mediaTypes": {
            "banner": {
                "sizes": [ //unitBannerSize
                        [
                            300,                                          //unitBannerSize
                            600                                           //unitBannerSize
                        ],
                        [
                            300,                                          //unitBannerSize
                            300                                           //unitBannerSize
                        ],
                        [
                            300,                                          //unitBannerSize
                            250                                           //unitBannerSize
                        ],
                        [
                            160,                                          //unitBannerSize
                            600                                           //unitBannerSize
                        ],
                        [
                            120,                                          //unitBannerSize
                            600                                           //unitBannerSize
                        ],
                        [
                            1,                                          //unitBannerSize
                            1                                           //unitBannerSize
                        ]
                ]
            }
        },
        "labelAny": ["mobil"],
        "bids": [
                                                              //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "criteo-im",
                "labelAny": ["mobil"],        
                    "params": {
                               networkId: 7456,                        //int (criteo-im >> networkId) // paramsAllBidders [@@@][::]
                               publisherSubId: "learniv/Leaderboard_paticka_mobile_752010",                        //varchar (criteo-im >> publisherSubId) // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-tt",
                "labelAny": ["mobil"],        
                    "params": {
                               mid: 752010,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-nt",
                "labelAny": ["mobil"],        
                    "params": {
                               mid: 752026,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "appnexus",
                "labelAny": ["mobil"],        
                    "params": {
                               placementId: 18288247,                        //int (appnexus >> placementId) // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "PubMatic",
                "labelAny": ["mobil"],        
                    "params": {
                               publisherId: "158732",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]
                               adSlot: "4052847",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]
                               currency: "USD",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-tt",
                "labelAny": ["mobil"],        
                    "params": {
                               mid: 1188481,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            }
        ]
    },
); //end push    

}else{
    console.log('Responzivita = FALSE >> Placement patickovy-leaderboard-mobil / imHbWindowWidth: (' + imHbWindowWidth + ')');
    var check910521 = document.querySelector("#patickovy-leaderboard-mobil") !== null;
    console.log('ID: patickovy-leaderboard-mobil / check910521: ' + check910521);

  }

}else{
    console.log('DIV ID check >> patickovy-leaderboard-mobil / hbPlacement: ' + hbPlacement);
}    

}else{
    console.log('URL condition >>  include / typ regex / string: .*');
}

// 1. --------------------------------
// Web Variableexclude#@##@#
// without setting for Web Variable
console.log('no Web Variable');
// 2. --------------------------------
// URL condition:include#@#regex#@#.*            
var patt = new RegExp('.*');
var urlCondition = patt.test(location.pathname);
if(urlCondition){

// 3. --------------------------------
// unitResponzivita:desktop
  if((imHbWindowWidth >= 1060)){
    console.log('Responzivita = TRUE >> Placement patickovy-leaderboard-desktop / imHbWindowWidth: (' + imHbWindowWidth + ')');
    var check910523 = document.querySelector("#patickovy-leaderboard-desktop") !== null;
    console.log('ID: patickovy-leaderboard-desktop / check910523: ' + check910523);

// 4. --------------------------------
// unitAutoDivIdControl:1    
hbPlacement = document.querySelector("#patickovy-leaderboard-desktop") !== null;
console.log('ID: patickovy-leaderboard-desktop / hbPlacement: ' + hbPlacement);
    if (hbPlacement) {


placementFloor['patickovyleaderboarddesktop'] = '0.00';
adUnits.push(
                                       // if unitStavRP = 1
    {
    "hbm_zone": {
        "userid": 1,
        "websiteid": 1209,
        "zoneid": 910523,                                                              //id
        "lazy_loading": 0,                                           //unitLazyLoading
        "lazy_loading_offset": 100,                                     //unitLazyPixelu
        "refresh": 0,                                 //unitAutoRefreshNumber if(unitAutoRefresh==0)>>0
        "refresh_limit": 3,                                    //unitAutoRefreshLimit            
        "nontracked": 0,                                             //unitSizeMapping
        "outofpage": 0,                                            //unitMinimalScreen
        "slot_code": "/96856532/Learniv-970x250-paticka",                 //unitSlotGAD
        "slot_sizes": [                                           //unitBannerSize
                [
                    970,                                          //unitBannerSize
                    250                                           //unitBannerSize
                ],
                [
                    970,                                          //unitBannerSize
                    350                                           //unitBannerSize
                ],
                [
                    970,                                          //unitBannerSize
                    210                                           //unitBannerSize
                ],
                [
                    970,                                          //unitBannerSize
                    90                                           //unitBannerSize
                ],
                [
                    728,                                          //unitBannerSize
                    90                                           //unitBannerSize
                ],
                [
                    1,                                          //unitBannerSize
                    1                                           //unitBannerSize
                ],
                [
                    970,                                          //unitBannerSize
                    100                                           //unitBannerSize
                ],
                [
                    970,                                          //unitBannerSize
                    200                                           //unitBannerSize
                ],
                [
                    900,                                          //unitBannerSize
                    200                                           //unitBannerSize
                ],
            ]
        },
        "code": "patickovy-leaderboard-desktop",

        "mediaTypes": {
            "banner": {
                "sizes": [ //unitBannerSize
                        [
                            970,                                          //unitBannerSize
                            250                                           //unitBannerSize
                        ],
                        [
                            970,                                          //unitBannerSize
                            350                                           //unitBannerSize
                        ],
                        [
                            970,                                          //unitBannerSize
                            210                                           //unitBannerSize
                        ],
                        [
                            970,                                          //unitBannerSize
                            90                                           //unitBannerSize
                        ],
                        [
                            728,                                          //unitBannerSize
                            90                                           //unitBannerSize
                        ],
                        [
                            1,                                          //unitBannerSize
                            1                                           //unitBannerSize
                        ],
                        [
                            970,                                          //unitBannerSize
                            100                                           //unitBannerSize
                        ],
                        [
                            970,                                          //unitBannerSize
                            200                                           //unitBannerSize
                        ],
                        [
                            900,                                          //unitBannerSize
                            200                                           //unitBannerSize
                        ]
                ]
            }
        },
        "labelAny": ["desktop"],
        "bids": [
                                                              //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "criteo-im",
                "labelAny": ["desktop"],        
                    "params": {
                               networkId: 7456,                        //int (criteo-im >> networkId) // paramsAllBidders [@@@][::]
                               publisherSubId: "learniv/Leaderboard_paticka_751980",                        //varchar (criteo-im >> publisherSubId) // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-tt",
                "labelAny": ["desktop"],        
                    "params": {
                               mid: 751980,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-nt",
                "labelAny": ["desktop"],        
                    "params": {
                               mid: 752008,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "appnexus",
                "labelAny": ["desktop"],        
                    "params": {
                               placementId: 18288241,                        //int (appnexus >> placementId) // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "PubMatic",
                "labelAny": ["desktop"],        
                    "params": {
                               publisherId: "158732",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]
                               adSlot: "4052847",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]
                               currency: "USD",                        //varchar cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            },                                                  //explode paramsAllBidders (bidders) 
            {                                                 //paramsAllBidders [;;;]
                "bidder": "adform-im-tt",
                "labelAny": ["desktop"],        
                    "params": {
                               mid: 1188478,                        //int cislaOstatni // paramsAllBidders [@@@][::]    
                    }                
            }
        ]
    },
); //end push    

}else{
    console.log('Responzivita = FALSE >> Placement patickovy-leaderboard-desktop / imHbWindowWidth: (' + imHbWindowWidth + ')');
    var check910523 = document.querySelector("#patickovy-leaderboard-desktop") !== null;
    console.log('ID: patickovy-leaderboard-desktop / check910523: ' + check910523);

  }

}else{
    console.log('DIV ID check >> patickovy-leaderboard-desktop / hbPlacement: ' + hbPlacement);
}    

}else{
    console.log('URL condition >>  include / typ regex / string: .*');
}

//];


    const customPriceGranularity = {  //musi byt v dolarech
        "buckets": [
                {
                'precision': 2,
                'max': 0.434781085,
                'increment': 0.0869565217
            },
            {
                'precision': 2,                    
                'max': 1.3043463,
                'increment': 0.173913043
            },
            {
                'precision': 2,                    
                'max': 5.21738978,
                'increment': 0.652173913
            }
        ]
    };    
    

var adConfig = {
       "priceGranularity": customPriceGranularity,
//    "priceGranularity": "custom",
//    "mediaTypePriceGranularity": {
//          'video': customPriceGranularity,
//	  'video-outstream': customPriceGranularity,
//          'banner': customPriceGranularity,
//          'native': customPriceGranularity,
//        },
    "currency": {
        "adServerCurrency": "CZK",                                        //gamCurrency
        "granularityMultiplier": 23                               //nasobitelGranularity
    },
    cache: {
        url: "https://prebid.adnxs.com/pbc/v1/cache"
    },   
    
    consentManagement: {
        gdpr: {
          cmpApi: 'iab',
          timeout: 8000,
          defaultGdprScope: false,   //TCF v2.0
//          allowAuctionWithoutConsent: true  //TCF v1.1
        }

//	gdpr: {
//		cmpApi: 'iab',
//		timeout: 8000,
//		defaultGdprScope: true // TCF 2.0 & PBJS v4+
//	},
//	usp: {
//		cmpApi: 'iab',
//		timeout: 8000
//	}
    },        
    
       sizeConfig: [{
                       "mediaQuery": '(min-width: 1060px)',  
                        "labels": [ "desktop"]
                    }, 
                {
                       "mediaQuery": '(max-width: 1060px)',  
                        "labels": [ "mobil"]
                    }, 
                {
                       "mediaQuery": '(min-width: 1px) and (max-width: 9999px)', 
                        "labels": [ "all"]
                    }, 
                {
                       "mediaQuery": '(min-width: 1200px)',  
                        "labels": [ "branding"]
                    }, 
                ],
        
    "enableSendAllBids": false,                                   //zatim fix >> GAM API + http://prebid.org/dev-docs/publisher-api-reference.html#setConfig-Send-All-Bids

    "publisherDomain": "https://learniv.com",                 //http://prebid.org/sandbox/prebid-api-guide.html?apiDocTarget=configuration&apiDefinition=publisherDomain#apiDocs

    "maxRequestsPerOrigin": 6,                                //http://prebid.org/dev-docs/publisher-api-reference.html#setConfig-Max-Requests-Per-Origin

    "cache": {
        "url": false,                                             //fix >> bez administrace + http://prebid.org/dev-docs/publisher-api-reference.html#example-1
    },
    "userSync": {                                                //fix >> ?? + http://prebid.org/dev-docs/publisher-api-reference.html#setConfig-Configure-User-Syncing
        "filterSettings": {
            "iframe": {
                "bidders": "*",
                "filter": "include"
            }
        }
        ,
        userIds: [{
            name: 'pubCommonId',
            storage: {
                type: 'cookie',
                name: '_pubcid',         // create a cookie with this name
                expires: 365             // expires in 1 years
            }
        }]
    
    }
}; //end adConfig

if (APS) {
	!function(a9,a,p,s,t,A,g){if(a[a9])return;function q(c,r){a[a9]._Q.push([c,r])}a[a9]={init:function(){q("i",arguments)},fetchBids:function(){q("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]};A=p.createElement(s);A.async=!0;A.src=t;g=p.getElementsByTagName(s)[0];g.parentNode.insertBefore(A,g)}("apstag",window,document,"script","//c.amazon-adsystem.com/aax2/apstag.js");
}

(function () {
	if ('IntersectionObserver' in window &&
		'IntersectionObserverEntry' in window &&
		'intersectionRatio' in window.IntersectionObserverEntry.prototype) return;
	var plf = document.createElement('script');
	plf.type = 'text/javascript';
	plf.async = true;
	plf.src = '//hb-testing.progsol.cz/prebid/polyfill.min.js';                                //bez zaruky >> nastaveni dle vzoru
	var target = document.getElementsByTagName('head')[0];
	target.insertBefore(plf, target.firstChild);
	window.hbm_polyfill = plf;
})();


if (YBCI) {                                                                                         //zatim false viz radek c.55
	window.yb_configuration = {"domain": YBCI_DOMAIN, "lazyLoad": true};
	(function (y, i, e, l, d, b, I, R, D) {
		d.Yieldbird = d.Yieldbird || {};
		d.Yieldbird.cmd = d.Yieldbird.cmd || [];
		l.cmd.push(function () {l.pubads().disableInitialLoad();});
		b = i.createElement('script'); b.async = true;
		b.src = (e === 'https:' ? 'https:' : 'http:') + '//jscdn.yieldbird.com/' + y + '/yb.js';            
		I = i.getElementsByTagName('script')[0];
		(I.parentNode || i.head).insertBefore(b, I);
	})(YBCI_ID, document, document.location.protocol, googletag, window);
}

// start escape !!
// ---------------------------------------------------------------------------------------------------------------------
// ---------------------------------------------------------------------------------------------------------------------
// ---------------------------------------------------------------------------------------------------------------------


function getCpm(bidCpm, bid, pubshare, floor) {

	console.log('getCpm >> ('+bid.bidder+') >> bidCpm: ' + bidCpm);
	console.log('getCpm >> ('+bid.bidder+') >> bid ^^');
	console.log(bid);
        console.log('getCpm >> ('+bid.bidder+') >> pubshare: ' + pubshare);
        console.log('getCpm >> ('+bid.bidder+') >> floor: ' + floor);        
//        if(bid.currency != bid.originalCurrency){
//            var cpmInCZK = (typeof bid.getCpmInNewCurrency === "function") ? bid.getCpmInNewCurrency('CZK') : bid.originalCpm;
//        }else{
            if(bid.currency != 'CZK'){
                console.log('bid.currency != CZK ' + bid.currency);
                var cpmInCZK = bid.cpm * 23;
                    bidCpm = cpmInCZK;
            }else{
                var cpmInCZK = bid.cpm;
            }
//        }
	
        
        console.log('getCpm >> ('+bid.bidder+') >> cpmInCZK: ' + cpmInCZK);
        
        console.log('getCpm >> ('+bid.bidder+') >> bid.currency: ' + bid.currency);
        console.log('getCpm >> ('+bid.bidder+') >> bid.originalCurrency: ' + bid.originalCurrency);        
        console.log('getCpm >> ('+bid.bidder+') >> --------------------------------------------------------- ');
        console.log('getCpm >> ('+bid.bidder+') >> cpmInCZK * pubshare = ' + (cpmInCZK * pubshare));
        console.log('getCpm >> ('+bid.bidder+') >> floor:' + floor);

        if(placementFloor[bid.adUnitCode.replace(/-|_/g, "")]>0){
           floor = placementFloor[bid.adUnitCode.replace(/-|_/g, "")];
           console.log('getCpm >> ('+bid.adUnitCode.replace(/-|_/g, "")+') >> placementFloor:' + floor);           
        }


        if(cpmInCZK * pubshare < floor){
            console.log('getCpm >> ('+bid.bidder+') >> if (cpmInCZK * pubshare < floor) ');
            console.log('getCpm >> ('+bid.bidder+') >> cpm is: 0');        
            return 0;
	}else{
            console.log('getCpm >> ('+bid.bidder+') >> if (cpmInCZK * pubshare < floor) ');
            console.log('getCpm >> ('+bid.bidder+') >> bidCpm * pubshare: ' + (bidCpm * pubshare));
        }
	return bidCpm * pubshare; 
}




function getBidderCode(bidderCode) {
	if (adBidders && adBidders[bidderCode]) {
		bidderCode += ',' + adBidders[bidderCode];
	}
	return bidderCode; 
}


// ---------------------------------------------------------------------------------------------------------------------
// ---------------------------------------------------------------------------------------------------------------------
// ---------------------------------------------------------------------------------------------------------------------

pbjs.setConfig(adConfig);

pbjs.que.push(function() {
	pbjs.bidderSettings = {
            "cpex-tt": { 
                bidCpmAdjustment: function(bidCpm, bid) { return getCpm(bidCpm, bid, 0.8, 3) }
            },
            "criteo-im": { 
                bidCpmAdjustment: function(bidCpm, bid) { return getCpm(bidCpm, bid, 0.8, 3) }
            },
            "adform-im-tt": { 
                bidCpmAdjustment: function(bidCpm, bid) { return getCpm(bidCpm, bid, 0.9, 3) }
            },
            "cpex-nt": { 
                bidCpmAdjustment: function(bidCpm, bid) { return getCpm(bidCpm, bid, 0.8, 3) }
            },
            "adform-im-nt": { 
                bidCpmAdjustment: function(bidCpm, bid) { return getCpm(bidCpm, bid, 0.8, 3) }
            },
            "r2b2": { 
                bidCpmAdjustment: function(bidCpm, bid) { return getCpm(bidCpm, bid, 0.8, 3) }
            },
            "mgid": { 
                bidCpmAdjustment: function(bidCpm, bid) { return getCpm(bidCpm, bid, 0.8, 3) }
            },
            "appnexus": { 
                bidCpmAdjustment: function(bidCpm, bid) { return getCpm(bidCpm, bid, 0.8, 3) }
            },
            "stroeerCore": { 
                bidCpmAdjustment: function(bidCpm, bid) { return getCpm(bidCpm, bid, 0.8, 5) }
            },
            "PubMatic": { 
                bidCpmAdjustment: function(bidCpm, bid) { return getCpm(bidCpm, bid, 0.8, 3) }
            },
            "Teads": { 
                bidCpmAdjustment: function(bidCpm, bid) { return getCpm(bidCpm, bid, 0.8, 3) }
            },
            
    };
    pbjs.addAdUnits(adUnits);
    pbjs.aliasBidder('criteo', 'criteo-im');
    pbjs.aliasBidder('adform', 'adform-im-tt');
    pbjs.aliasBidder('adform', 'adform-im-nt');
    pbjs.aliasBidder('pubmatic', 'PubMatic');
    


//statistika
function statisticsAuctionEnd(data, kam){
    console.log('fire post data auctionEnd: '+kam);
    console.log(data);

    if(data.ext){
        data.ext = null;
        console.log('fire data ext(R2B2)');
        console.log(data);
    }else{
        console.log('fire NO data ext(R2B2)');        
    }

//    var strData = JSON.stringify(data);
    var strData = encodeURIComponent(JSON.stringify(data));    
    console.log('strData: '+strData);

    var hbmasterscript = 'hb-0';
    if(null != top.document.body.getAttribute("data-hbmasterscript")){
        hbmasterscript = top.document.body.getAttribute("data-hbmasterscript"); 
    }

    var xhr = new XMLHttpRequest();
    xhr.open('GET', 'https://hb.impressionmedia.cz/statistics/'+kam+'.php?configId=1209&statistics=1&hbmasterscript='+hbmasterscript+'&data='+strData);
//    xhr.setRequestHeader('Content-Type', 'application/json');
    xhr.onreadystatechange = function () {
      // In local files, status is 0 upon success in Mozilla Firefox
      if(xhr.readyState === XMLHttpRequest.DONE) {
        var status = xhr.status;
        if (status === 0 || (status >= 200 && status < 400)) {
          // The request has been completed successfully
          console.log('xhr.responseText');          
          console.log(status + ': ' + xhr.responseText);
        } else {
            console.log('error in xhr');
          // Oh no! There has been an error with the request!
        }
      }
    };
    xhr.send();

}

//	pbjs.onEvent('bidRequested', function(data){
//		for (var i in data.bids) {
//			var u = adUnits.filter(function(u) {
//				return u.code === data.bids[i].adUnitCode;
//			})[0];
//			if (!u) return;
//                        //if (!u.userId) u.userId = {};
//			//u.userId = {pubcid: 'test2'};
//			if (!u.hbm_stats) u.hbm_stats = [];
//			u.hbm_stats.push({
//				event: 'bidRequested',
//				v: 'v2',
//				user_id: u.hbm_zone.userid,
//				website_id: u.hbm_zone.websiteid,
//				zone_id: u.hbm_zone.zoneid,
//				bidderCode: getBidderCode(data.bids[i].bidder),
//				refresh: u.hbm_zone.isRefresh ? 't' : '',
//			});
//		}
//	});

	pbjs.onEvent('auctionInit', function(data){
		for (var i in data.adUnitCodes) {
			var u = adUnits.filter(function(u) {
				return u.code === data.adUnitCodes[i];
			})[0];
			if (!u) return;
                        //if (!u.userId) u.userId = {};
			//u.userId = {pubcid: 'test'};                        
			if (!u.hbm_stats) u.hbm_stats = [];
			u.hbm_stats.push({
				event: 'auctionInit',
				v: 'v2',
				user_id: u.hbm_zone.userid,
				website_id: u.hbm_zone.websiteid,
				zone_id: u.hbm_zone.zoneid,
				refresh: u.hbm_zone.isRefresh ? 't' : '',
			});
		}
	});

pbjs.onEvent('auctionEnd', function(data){
    var dataAdUnitCodesString = data.adUnitCodes[0];
    console.log('auctionEnd statisticsAuctionEnd: '+dataAdUnitCodesString);
    console.log(data);
    console.log('check caroda: '+dataAdUnitCodesString.indexOf('caroda'));
    if(dataAdUnitCodesString.indexOf('caroda') > -1){
        console.log('jump caroda');
    }else{

        console.log('data.bidsReceived^^');
        console.log(data.bidsReceived);
        for (var i in data.bidsReceived) {
            if(!isNaN(i)){
                console.log(i + '. auEnd|Received: ' + data.bidsReceived[i].bidderCode); 
                var dataWithoutAd = JSON.parse(JSON.stringify(data.bidsReceived[i]));
                dataWithoutAd.ad = '';
                console.log('dataWithoutAd^^');
                console.log(dataWithoutAd);
                statisticsAuctionEnd(dataWithoutAd, 'bidsReceived');
                dataWithoutAd = {};
            }
        }

        setTimeout(function(){
            var updateRezim = 'biddersDetail';
            var nobids = data.noBids.length;
            var auctionStatus = data.auctionStatus;
            console.log('bidderRequestsShortAuctionSum data.noBids^^'); 
            console.log(data);
            var biddersRequestDetail = data.noBids[0].bidder;
            var biddersRequestIdDetail = data.noBids[0].bidderRequestId;
            var adUnitCodeDetail = data.noBids[0].adUnitCode;           
            console.log('bidderRequestsShortAuctionSum: '+auctionStatus+'|'+nobids+'|'+biddersRequestDetail+'|'+updateRezim+'|'+data.auctionId+'|'+biddersRequestIdDetail+'|'+adUnitCodeDetail);
            statisticsAuctionEnd(auctionStatus+'|'+nobids+'|'+biddersRequestDetail+'|'+updateRezim+'|'+data.auctionId+'|'+biddersRequestIdDetail+'|'+adUnitCodeDetail, 'bidderRequestsShortAuctionSum');
        }, 500);
        
        setTimeout(function(){
            console.log('/statistics - start');
            console.log(pbjs);
            console.log(pbjs.adUnits); 
            console.log('/statistics - ready');
            //delete pbjs.adUnits;
            console.log('data >> fc pbjs.getUserIds()');
            console.log(pbjs.getUserIds(data));
            console.log('/statistics - end');
            console.log(pbjs.adUnits);
        }, 3000);

    } //no caroda
    console.log('end onEvent auctionEnd');
});

pbjs.onEvent('bidTimeout', function(data){
    console.log('pbjsonEvent >> bidTimeout^^'); 
    console.log(data);   

    //statisticsAuctionEnd(data.auctionId, 'bidTimeout');
});




	pbjs.onEvent('bidWon', function(data){       
            console.log('pbjsonEvent >> bidWon^^'); 
            console.log(data);
            console.log('pbjsonEvent >> bidWon >> currency: ' + data.currency + ' // originalCurrency: ' +  data.originalCurrency );

            console.log('bidWon statisticsAuctionEnd: '+data.adUnitCode);
            
            statisticsAuctionEnd(data.requestId+'|'+data.auctionId, 'bidsWon');
	});
	
});

//function sendStatistics(code) {}

googletag.cmd.push(function() {
	googletag.pubads().disableInitialLoad();
	googletag.pubads().addEventListener('slotOnload', function(event) {
		adUnits.filter(function(u) {
			return u.hbm_zone.slot === event.slot;
		}).forEach(function(u) {
			//sendStatistics(u.code);
		});
	});
	adUnits.forEach(function(u) {

		if (u.code) {
			if (u.hbm_zone.outofpage)
				u.hbm_zone.slot = googletag.defineOutOfPageSlot(u.hbm_zone.slot_code, u.code);
			else
				u.hbm_zone.slot = googletag.defineSlot(u.hbm_zone.slot_code, u.hbm_zone.slot_sizes, u.code);
			if (adMapping[u.hbm_zone.zoneid])
				u.hbm_zone.slot.defineSizeMapping(adMapping[u.hbm_zone.zoneid]);
			u.hbm_zone.slot.addService(googletag.pubads());
		}
	});
	if (DFP_PAGEURL !== '')
		googletag.pubads().set('page_url',DFP_PAGEURL);
	googletag.pubads().collapseEmptyDivs();
	googletag.pubads().setCentering(true);
	if (DFP_SRA)
		googletag.pubads().enableSingleRequest();
	googletag.enableServices();
});

if (APS) {
	apstag.init({
		pubID: APS_PUBID,
		adServer: 'googletag',
	});
}

pbjs.que.push(function () {

        var checkMediaQuery = [];  //jaja
        var checkUnitMediaQuery = '';  //jaja 

	var units = adUnits.filter(function(u) {
                console.log('-----------------------------------');
                console.log('u.labelAny: '+u.labelAny);
                console.log(u);  
                checkUnitMediaQuery = 'nonSet';  //jaja 


                if (u.labelAny[0]!='notResponzive'){    //jaja
                    if (u.labelAny.length == 1){
                        adConfig.sizeConfig.forEach(function(aSizeConfig){
                            if(aSizeConfig.labels[0]){
//                                console.log('aSizeConfig.labels[0]: '+aSizeConfig.labels[0]);
                            }else{
//                                console.log('Not set aSizeConfig.labels[0]');
                            }
                        
                            if(aSizeConfig.labels[0]==u.labelAny[0]){                            
//                              console.log('u.labelAny[0]'+u.labelAny[0]+'  vs aSizeConfig.mediaQuery'+aSizeConfig.mediaQuery );
                              var x = window.matchMedia(aSizeConfig.mediaQuery);      
                              if (x.matches) { 
//                                console.log('if x.matches');
//                                console.log('u.code: '+u.code);            
                                checkMediaQuery.push(u.code);
                                checkUnitMediaQuery = 'display';                                
                              } else {
//                                console.log('else x.matches');
//                                console.log('u.code: '+u.code); 
                                checkUnitMediaQuery = 'hidden'; 
                              }
                            }else{
//                                console.log('Jiny stitek >> u.labelAny[0]'+u.labelAny[0])
                            }
                        });
                    }else if(u.labelAny.length == 2){
                    
                        var arrCheckMediaQuery = [];

                        adConfig.sizeConfig.forEach(function(bSizeConfig){
                            if((bSizeConfig.labels[0]==u.labelAny[0])||(bSizeConfig.labels[0]==u.labelAny[1])){ 
                                arrCheckMediaQuery.push(bSizeConfig.mediaQuery);
                            }
                            
                        });

                        console.log('u.labelAny[0]: '+u.labelAny[0]+ ' and u.labelAny[1]: '+u.labelAny[1]);
                        var xa = window.matchMedia(arrCheckMediaQuery[0]);  
//                        console.log('arrCheckMediaQuery[0]: '+arrCheckMediaQuery[0] + '  and arrCheckMediaQuery[1]: '+arrCheckMediaQuery[1]);
                        var xb = window.matchMedia(arrCheckMediaQuery[1]);                         
                        if (xa.matches) { 
//                            console.log('if x.matches / '+arrCheckMediaQuery[0]);
//                            console.log('u.code: '+u.code);            
                            checkMediaQuery.push(u.code);
                            checkUnitMediaQuery = 'display';
                        }
                        else if (xb.matches) { 
//                            console.log('if x.matches / '+arrCheckMediaQuery[1]);
//                            console.log('u.code: '+u.code);            
                            checkMediaQuery.push(u.code);
                            checkUnitMediaQuery = 'display';
                        }
                        else {
//                            console.log('else x.matches');
//                            console.log('u.code: '+u.code);
                            checkUnitMediaQuery = 'hidden';
                        }

                    }else{ console.log('POZOR problem'); }
                }else{
                    console.log('NO PROBLEM - bez kontroly responzivity');
                    return u.code && !u.hbm_zone.lazy_loading;
                }

            if(checkUnitMediaQuery=='display'){
                return u.code && !u.hbm_zone.lazy_loading;
            }

	});

        
        
	if (units.length === 0) return;


        console.log('===========================');
        console.log(units);
	startAuction(units);
});


function removeA(arr) {
    var what, a = arguments, L = a.length, ax;
    while (L > 1 && arr.length) {
        what = a[--L];
        while ((ax= arr.indexOf(what)) !== -1) {
            arr.splice(ax, 1);
        }
    }
    return arr;
}

function sendAdserverRequests(codes) {


	var unitsForSend = adUnits.filter(function(u) {

		if (codes.indexOf(u.code) != -1 && u.hbm_zone.unitForSend && u.hbm_zone.back >= (1 + APS)) {
			u.hbm_zone.unitForSend = false;
			return true;
		}
		return false;
	});
	if (unitsForSend.length == 0) return;

	var codesForSend = unitsForSend.map(function(u) {
		return u.code;
	});

	var slots = unitsForSend.map(function(u) {
//        console.log('u^^');        
//        console.log(u);
                //u.hbm_zone.slot.code = u.code;                         //jaja temp
                //u.hbm_zone.slot.allMedia = codesForSend;               //jaja
                //u.hbm_zone.slot.inMediaQuery = checkMediaQuery;        //jaja  
		return u.hbm_zone.slot;
	});

	googletag.cmd.push(function() {
		pbjs.que.push(function() {
			pbjs.setTargetingForGPTAsync(codesForSend);
			if (YBCI && window.Yieldbird) {
				window.Yieldbird.cmd.push(function() {
					window.Yieldbird.refresh(slots);
				});
			}
			else {
				googletag.pubads().refresh(slots);
			}
		});
	});
}

function startAuction(units) {
	var unitsForSend = units.filter(function(u) {
		u.hbm_zone.refresh_counter = u.hbm_zone.refresh_counter || 0;
		if (u.hbm_zone.isRefresh && u.hbm_zone.refresh_limit > 0 && u.hbm_zone.refresh_counter >= u.hbm_zone.refresh_limit) 
			return false;
		if (u.hbm_zone.isRefresh) u.hbm_zone.refresh_counter ++;

		u.hbm_zone.unitForSend = true;
		u.hbm_zone.back = 0;
		return true;
	});
	if (unitsForSend.length == 0) return;

	var codesForSend = unitsForSend.map(function(u) {
		return u.code;
	});

	console.log("start auction "+codesForSend.join());

	if (APS) {
		var apsSlots = [];
		unitsForSend.forEach(function(u) {
			apsSlots.push({
				slotID: u.code,
				slotName: u.hbm_zone.slot_code,
				sizes: u.hbm_zone.slot_sizes,
			});
		});

		apstag.fetchBids({
			timeout: PREBID_TIMEOUT,
			slots: apsSlots,
		}, function(bids) {
			googletag.cmd.push(function() {
				apstag.setDisplayBids();
				unitsForSend.forEach(function(u) {
					u.hbm_zone.back += 1;
				});
				sendAdserverRequests(codesForSend);
			});
		});
	}

	pbjs.que.push(function() {
		pbjs.requestBids({
			timeout: PREBID_TIMEOUT,
			adUnitCodes: codesForSend,
			bidsBackHandler: function(){
                        console.log('unitsForSend^^');
                        console.log(codesForSend);
				unitsForSend.forEach(function(u) {
					u.hbm_zone.back += 1;
				});
//                                console.log('codesForSend^^');
//                                console.log(codesForSend);                            
				sendAdserverRequests(codesForSend);
			}
		});
	});

	setTimeout(function() {
		unitsForSend.forEach(function(u) {
			u.hbm_zone.back += (1 + APS);
		});
		sendAdserverRequests(codesForSend);
	}, FAILSAFE_TIMEOUT);
}

function intersectionObserverLazyLoading(entries, observer) {
	entries.forEach(function(entry) {
		var u = adUnits.filter(function(u) {
			return 'hbm-'+u.code === entry.target.id;
		})[0];
		if (u) {
			if (!u.hbm_zone.isLoaded && entry.intersectionRatio > 0) {
				u.hbm_zone.isLoaded = true;
				startAuction([u]);
				observer.unobserve(entry.target);
			}
		}
	});
};

function intersectionObserverRefresh(entries, observer) {
	entries.forEach(function(entry) {
		var u = adUnits.filter(function(u) {
			return 'hbm-'+u.code === entry.target.id;
		})[0];
		if (u) {
			u.hbm_zone.isVisible = entry.intersectionRatio > 0;
		}
	});
};

if (window.hbm_polyfill){
	window.hbm_polyfill.onload = function(){ onLoad(); }
}else{
	window.onload = function(){ onLoad(); }
}
function onLoad() {
	adUnits.filter(function(u) {
		return u.code && !u.hbm_zone.lazy_loading && u.hbm_zone.refresh;
	}).forEach(function(u) {
		setInterval(function() {
			u.hbm_zone.isRefresh = true;
			startAuction([u]);
		}, u.hbm_zone.refresh);
	});

	adUnits.filter(function(u) {
		return u.code && u.hbm_zone.lazy_loading;
	}).forEach(function(u) {
		var target = document.getElementById(u.code);
		if (target) {
			target.outerHTML = "<div id='hbm-"+u.code+"'>" + target.outerHTML + "</div>";
			var target2 = document.getElementById('hbm-'+u.code);
			var lazy_loading_offset = u.hbm_zone.lazy_loading_offset || 200;

			if (!('IntersectionObserver' in window)) {
				console.log("IntersectionObserver is undefined");
				return;
			}
			
			var observerLazyLoading = new IntersectionObserver(intersectionObserverLazyLoading, { root: null, rootMargin: "0px 0px "+lazy_loading_offset+"px 0px" });
			observerLazyLoading.observe(target2);
			if (u.hbm_zone.refresh) {
				var observerRefresh = new IntersectionObserver(intersectionObserverRefresh, { root: null, threshold: [0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0] });
				observerRefresh.observe(target2);
			}
		}
	});

	adUnits.filter(function(u) {
		return u.code && u.hbm_zone.lazy_loading && u.hbm_zone.refresh;
	}).forEach(function(u) {
		setInterval(function() {
			if (u.hbm_zone.isLoaded && u.hbm_zone.isVisible) {
				u.hbm_zone.isRefresh = true;
				startAuction([u]);
			}
		}, u.hbm_zone.refresh);
	});
}

var resizeTimerId;
if (REFRESH_ONRESIZE) {
	window.addEventListener("resize", function() {
		clearTimeout(resizeTimerId);
		resizeTimerId = setTimeout(doneResizing, 1000);
	});
}

function doneResizing(){
	console.log("resized");

	adUnits.filter(function(u) {
		return u.code && !u.hbm_zone.lazy_loading;
	}).forEach(function(u) {
		u.hbm_zone.isRefresh = false;
		startAuction([u]);
	});

	adUnits.filter(function(u) {
		return u.code && u.hbm_zone.lazy_loading;
	}).forEach(function(u) {
		if (u.hbm_zone.isLoaded) {
			u.hbm_zone.isRefresh = false;
			startAuction([u]);
		}
	});
}

googletag.cmd.push(function() {
	adUnits.forEach(function(u) {
		var target = document.getElementById(u.code);
		if (target) {
			if (!target.innerHTML) {
				googletag.display(u.code);
			}
		}
	});
});

function HBManager() {}

HBManager.prototype.dynamic = function(divid, zoneid) {
	var u = adUnits.filter(function(u) {
		return u.hbm_zone.zoneid == zoneid;
	})[0];
	if (!u) return;

	var target = document.getElementById(divid);
	if (target && u.code !== divid) {
		googletag.cmd.push(function() {
			u.code = divid;
			if (u.hbm_zone.outofpage)
				u.hbm_zone.slot = googletag.defineOutOfPageSlot(u.hbm_zone.slot_code, u.code);
			else
				u.hbm_zone.slot = googletag.defineSlot(u.hbm_zone.slot_code, u.hbm_zone.slot_sizes, u.code);
			if (adMapping[u.hbm_zone.zoneid])
				u.hbm_zone.slot.defineSizeMapping(adMapping[u.hbm_zone.zoneid]);
			u.hbm_zone.slot.addService(googletag.pubads());
			googletag.display(u.code);
			u.hbm_zone.isRefresh = false;
			startAuction([u]);
		});
	}
};

HBManager.prototype.refresh = function(zoneid){
	var u = adUnits.filter(function(u) {
		return u.hbm_zone.zoneid == zoneid;
	})[0];
	if (!u) return;
	u.hbm_zone.isRefresh = false;
	startAuction([u]);
};

window.HBManager = HBManager; 

}(window, document, pbjs, googletag));

var hbManager = new HBManager();




